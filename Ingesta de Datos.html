
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ingesta de Datos &#8212; Matematica para Data Science_Estadistica Descriptiva</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Proyecto de aplicación" href="proyecto.html" />
    <link rel="prev" title="Estadistica Descriptiva vs Inferencial" href="Introduccion.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Matematica para Data Science_Estadistica Descriptiva</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Bienvenida
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Introduccion.html">
   Estadistica Descriptiva vs Inferencial
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Ingesta de Datos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="proyecto.html">
   Proyecto de aplicación
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Ingesta de Datos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FIngesta de Datos.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/Ingesta de Datos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pipelines-de-procesamiento-de-datos">
   Pipelines de Procesamiento de datos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#datos-numericos">
   Datos numéricos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#normalizacion-lineal">
   Normalizacion Lineal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#normalizacion-no-lineal">
   Normalizacion no lineal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#escalamiento-de-datos-numericos">
   Escalamiento de datos numéricos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transformaciones-lineales">
     Transformaciones Lineales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transformaciones-no-lineales">
     Transformaciones No lineales.
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mapeos-numericos">
   Mapeos numéricos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#correlaciones">
   Correlaciones
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matriz-de-varianza">
   Matriz de varianza
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Ingesta de Datos</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pipelines-de-procesamiento-de-datos">
   Pipelines de Procesamiento de datos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#datos-numericos">
   Datos numéricos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#normalizacion-lineal">
   Normalizacion Lineal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#normalizacion-no-lineal">
   Normalizacion no lineal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#escalamiento-de-datos-numericos">
   Escalamiento de datos numéricos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transformaciones-lineales">
     Transformaciones Lineales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transformaciones-no-lineales">
     Transformaciones No lineales.
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mapeos-numericos">
   Mapeos numéricos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#correlaciones">
   Correlaciones
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matriz-de-varianza">
   Matriz de varianza
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="ingesta-de-datos">
<h1>Ingesta de Datos<a class="headerlink" href="#ingesta-de-datos" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pipelines-de-procesamiento-de-datos">
<h2>Pipelines de Procesamiento de datos<a class="headerlink" href="#pipelines-de-procesamiento-de-datos" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="datos-numericos">
<h2>Datos numéricos<a class="headerlink" href="#datos-numericos" title="Permalink to this headline">¶</a></h2>
<p align="center">
<img src="https://www.jeremyjordan.me/content/images/2018/01/Screen-Shot-2018-01-23-at-2.27.20-PM.png" style="width: 600px;"/>
</p>
<p>La <strong>normalización</strong> es una técnica que a menudo se aplica como parte de la preparación de datos para el aprendizaje automático. El objetivo de la <strong>normalización</strong> es cambiar los valores de las columnas numéricas en el conjunto de datos para usar una escala común, sin distorsionar las diferencias en los rangos de valores ni perder información. La normalización también es necesaria para que algunos algoritmos modelen los datos correctamente.</p>
<p>Por <strong>ejemplo</strong>, suponga que su conjunto de datos de entrada contiene una columna con valores que van de 0 a 1 y otra columna con valores que van de 10,000 a 100,000. La gran diferencia en la escala de los números podría causar problemas al intentar combinar los valores como características durante el modelado.</p>
<p>La normalización evita estos problemas al crear nuevos valores que mantienen la distribución general y las proporciones en los datos de origen, mientras mantienen los valores dentro de una escala aplicada en todas las columnas numéricas utilizadas en el modelo.</p>
<p><strong>Tenemos varias opciones para transformar datos numéricos:</strong></p>
<ul class="simple">
<li><p>Cambiar todos los valores a una escala de 0 a 1 o transformar los valores representándolos como rangos de percentiles en lugar de valores absolutos.</p></li>
<li><p>Aplicar la normalización a una sola columna o a varias columnas en el mismo conjunto de datos.</p></li>
<li><p>Si necesita repetir el experimento o aplicar los mismos pasos de normalización a otros datos, puede guardar los pasos como una transformación de normalización y aplicarlos a otros conjuntos de datos que tengan el mismo esquema.</p></li>
</ul>
</div>
<div class="section" id="normalizacion-lineal">
<h2>Normalizacion Lineal<a class="headerlink" href="#normalizacion-lineal" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Z-Score</strong>: convierte todos los valores en una puntuación z. Los valores de la columna se transforman mediante la siguiente fórmula:</p></li>
</ul>
<p align="center">
<img src="https://user-images.githubusercontent.com/63415652/122654703-e36b2b00-d112-11eb-847e-5ca8ff3288c5.PNG" style="width: 300px;"/>
</p>
La media y la desviación estándar se calculan para cada columna por separado. Se utiliza la desviación estándar de la población.
<ul class="simple">
<li><p><strong>MinMax</strong>: el normalizador min-max cambia la escala linealmente cada característica al intervalo [0,1]. El cambio de escala al intervalo [0,1] se realiza cambiando los valores de cada característica para que el valor mínimo sea 0, y luego dividiendo por el nuevo valor máximo (que es la diferencia entre los valores máximo y mínimo originales). Los valores de la columna se transforman mediante la siguiente fórmula:</p></li>
</ul>
<p align="center">
<img src="https://miro.medium.com/max/992/1*tbBScNpSloQ9uOd3QYNVtg.png" style="width: 300px;"/>
</p>
<p>La siguiente formula es para hacer un escalamiento de mix max pero en el intervalo de [-1, 1], donde a y b son el rango de valores que queremos dar es decir [a=-1 y b = 1]</p>
<p align="center">
<img src="https://static.platzi.com/media/user_upload/general%20formula-97b6d8eb-b206-4e45-9bb4-d44c948060b7.jpg" style="width: 300px;"/>
</p>
<p>Otros tipos de escalamiento</p>
<ul class="simple">
<li><p>Cliping</p></li>
<li><p>Winsorizing</p></li>
<li><p>Log scaling</p></li>
</ul>
<p><strong>Cuando usar la normalizacion lineal?</strong> &gt; En datos simétricos o en datos uniformemente distribuidos</p>
</div>
<div class="section" id="normalizacion-no-lineal">
<h2>Normalizacion no lineal<a class="headerlink" href="#normalizacion-no-lineal" title="Permalink to this headline">¶</a></h2>
<p>uando la distribución de datos no es simétrica sino sesgada se usa la transformación no lineal.
Esto con el fin de tomar los datos con una distribución no simétrica y se transforman en una distribución que si es simétrica.
Después de eso se aplican los escaladores lineales.</p>
<p>Algunos tipos de transformacion lineal:</p>
<ul class="simple">
<li><p>Logística: los valores de la columna se transforman mediante la siguiente fórmula:</p></li>
</ul>
<p align="center">
<img src="https://user-images.githubusercontent.com/63415652/122654862-cedb6280-d113-11eb-9d0e-26a1991537d2.PNG" style="width: 300px;"/>
</p>
<ul class="simple">
<li><p>Log Normal: esta opción convierte todos los valores a una escala logarítmica normal. Los valores1 de la columna se transforman mediante la siguiente fórmula:</p></li>
</ul>
<p align="center">
<img src="https://user-images.githubusercontent.com/63415652/122654861-ce42cc00-d113-11eb-92cc-64fc408fa338.PNG" style="width: 300px;"/>
</p>
<p>Aquí μ y σ son los parámetros de la distribución, calculados empíricamente a partir de los datos como estimaciones de máxima verosimilitud, para cada columna por separado.</p>
<ul class="simple">
<li><p>TanH: todos los valores se convierten a una tangente hiperbólica. Los valores de la columna se transforman mediante la siguiente fórmula:</p></li>
</ul>
<p align="center">
<img src="https://user-images.githubusercontent.com/63415652/122654864-cf73f900-d113-11eb-9b7d-09ff12d92ca4.PNG"/>
</p>
</div>
<div class="section" id="escalamiento-de-datos-numericos">
<h2>Escalamiento de datos numéricos<a class="headerlink" href="#escalamiento-de-datos-numericos" title="Permalink to this headline">¶</a></h2>
<div class="section" id="transformaciones-lineales">
<h3>Transformaciones Lineales<a class="headerlink" href="#transformaciones-lineales" title="Permalink to this headline">¶</a></h3>
<p>La idea de hacer pre-procesamiento de datos, es para ayudar al algoritmo con su convergencia en los modelos de ML.
Para eso utilizaremos la libreria <strong>timeit</strong>, verificando el tiempo de ejecucion de los modelos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">timeit</span>

<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">linear_model</span>
<span class="c1">#aqui extraemos el indice de masa corporal y lo asignamos a X and Y. Por el momento solo usaremos X luego</span>
<span class="c1">#en el modelo de entrenamiento usaremos Y</span>
<span class="n">X</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_diabetes</span><span class="p">(</span><span class="n">return_X_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="n">raw</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span><span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Hasta en la celda anterior lo que hemos hecho es importar las librerias que usaremos. Para el ejemplo usaremos un dataset de pacientes con diabetes donde <code class="docutils literal notranslate"><span class="pre">X</span></code> toma el valor de su primera columna (que es el indice de masa corporal) e igualmente <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p>Luego <code class="docutils literal notranslate"><span class="pre">raw</span></code> toma lo usaremos para hacer una escala en el intervalo <span class="math notranslate nohighlight">\(-1 &gt; x &gt;1\)</span>. Recordar que antes de hacer un escalamiento tenemos que verificar que nuestros datos no contengan una distribucion tan sesgada. Utilizaremos entonces la formula de escalamiento <strong>MinMax</strong> en el rango de [-1, 1]</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#reglas de escalamiento</span>
<span class="n">max_raw</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
<span class="n">min_raw</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
<span class="c1"># x_prima = -1 + (((raw-min_raw)*(2))/(max_raw - min_raw)) esta formula es la misma a la que le sigue</span>
<span class="n">scaled</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">raw</span> <span class="o">-</span> <span class="n">max_raw</span> <span class="o">-</span> <span class="n">min_raw</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">max_raw</span> <span class="o">-</span> <span class="n">min_raw</span><span class="p">)</span>
<span class="c1">#vamos a imprimir primero el histograma crudo sin realizar su escalamiento (axs[0]) y con su escalamiento (axs[1])</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#aqui le decimos que compartiremos el mismo eje x.</span>
<span class="c1">#tambien le decir que realizamos 2 figuras con una sola columna</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span> <span class="c1">#histograma sin escalamiento</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">scaled</span><span class="p">)</span> <span class="c1">#histograma con escalamiento</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([32., 66., 98., 90., 64., 50., 23., 12.,  5.,  2.]),
 array([-1. , -0.8, -0.6, -0.4, -0.2,  0. ,  0.2,  0.4,  0.6,  0.8,  1. ]),
 &lt;BarContainer object of 10 artists&gt;)
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_3_1.png" src="_images/Ingesta de Datos_3_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#modelo para entrenamiento, esto lo usaremos solo para medir el tiempo de ejecucion</span>
<span class="c1">#entre un modelo crudo `X` y otro con escalamiento `scaled`</span>

<span class="k">def</span> <span class="nf">train_raw</span><span class="p">():</span>
    <span class="n">linear_model</span><span class="o">.</span><span class="n">LinearRegression</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">train_scaled</span><span class="p">():</span>
    <span class="n">linear_model</span><span class="o">.</span><span class="n">LinearRegression</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">scaled</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_time</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">train_raw</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">scaled_time</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">train_scaled</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1">#como vemos el modelo no escalado y demora mas en completar el modelado que la distribucion normalizada.</span>
<span class="c1">#quizas no es muy grande la diferencia pero si podemos asumir que el tiempo de demora aumenta con datos mas grande.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">raw_time</span><span class="p">,</span> <span class="n">scaled_time</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.04389339999999997 0.03683399999999981
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>max-min scaling: mejor para datos uniformemente dristribuidos</p></li>
<li><p>z-score scaling: mejor para datos distribuidos “normalmente” (forma de campa de gauss)
De igual forma tenemos que comprobar esto para nuestros datos en especifico, es algo relativo.</p></li>
</ul>
</div>
<div class="section" id="transformaciones-no-lineales">
<h3>Transformaciones No lineales.<a class="headerlink" href="#transformaciones-no-lineales" title="Permalink to this headline">¶</a></h3>
<p>En la introducción vimos que los precios de autos de segunda mano estan muy sesgados de forma negativa. Por esa razon utilizaremos ese ejemplo para realizar el escalamiento.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_price_cars</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./sources/datasets/cars_.csv&#39;</span><span class="p">)</span>
<span class="n">df_price_cars</span><span class="o">.</span><span class="n">price_usd</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
<span class="c1">#Como vemos la distribucion se encuentra fuertemente sesgada entre 0&gt; x &gt; 10 000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_7_1.png" src="_images/Ingesta de Datos_7_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Realizaremos una transformacion con tangente hiperbolica (tangh(x))</span>

<span class="n">df_price_cars</span><span class="p">[</span><span class="s1">&#39;price_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_8_1.png" src="_images/Ingesta de Datos_8_1.png" />
</div>
</div>
<p>En este caso la normalizacion tangh apilo todo en un solo valor (aprox 1). Sin embargo nosotros podemos calibrar esa distribucion dividiendolo por un numero. En este caso lo llamaremos <code class="docutils literal notranslate"><span class="pre">p</span></code> y le asignaremos <code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Realizaremos una transformacion con tangente hiperbolica (tangh(x/p))</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">df_price_cars</span><span class="p">[</span><span class="s1">&#39;price_usd&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="n">p</span><span class="p">))</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_10_1.png" src="_images/Ingesta de Datos_10_1.png" />
</div>
</div>
<p>Con esta calibracion re-distribuimos los datos de manera que queden mas uniforme.</p>
<hr class="docutils" />
<p>A modo de practica escalaremos el datasets <code class="docutils literal notranslate"><span class="pre">load_diabetes['bmi']</span></code> por medio de <strong>z-score.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_diabetes</span>

<span class="n">diabetes</span><span class="o">=</span><span class="n">load_diabetes</span><span class="p">()</span>

<span class="n">df_diabetes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">diabetes</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">diabetes</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
<span class="n">df_diabetes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>sex</th>
      <th>bmi</th>
      <th>bp</th>
      <th>s1</th>
      <th>s2</th>
      <th>s3</th>
      <th>s4</th>
      <th>s5</th>
      <th>s6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.038076</td>
      <td>0.050680</td>
      <td>0.061696</td>
      <td>0.021872</td>
      <td>-0.044223</td>
      <td>-0.034821</td>
      <td>-0.043401</td>
      <td>-0.002592</td>
      <td>0.019908</td>
      <td>-0.017646</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.001882</td>
      <td>-0.044642</td>
      <td>-0.051474</td>
      <td>-0.026328</td>
      <td>-0.008449</td>
      <td>-0.019163</td>
      <td>0.074412</td>
      <td>-0.039493</td>
      <td>-0.068330</td>
      <td>-0.092204</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.085299</td>
      <td>0.050680</td>
      <td>0.044451</td>
      <td>-0.005671</td>
      <td>-0.045599</td>
      <td>-0.034194</td>
      <td>-0.032356</td>
      <td>-0.002592</td>
      <td>0.002864</td>
      <td>-0.025930</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.089063</td>
      <td>-0.044642</td>
      <td>-0.011595</td>
      <td>-0.036656</td>
      <td>0.012191</td>
      <td>0.024991</td>
      <td>-0.036038</td>
      <td>0.034309</td>
      <td>0.022692</td>
      <td>-0.009362</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.005383</td>
      <td>-0.044642</td>
      <td>-0.036385</td>
      <td>0.021872</td>
      <td>0.003935</td>
      <td>0.015596</td>
      <td>0.008142</td>
      <td>-0.002592</td>
      <td>-0.031991</td>
      <td>-0.046641</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>437</th>
      <td>0.041708</td>
      <td>0.050680</td>
      <td>0.019662</td>
      <td>0.059744</td>
      <td>-0.005697</td>
      <td>-0.002566</td>
      <td>-0.028674</td>
      <td>-0.002592</td>
      <td>0.031193</td>
      <td>0.007207</td>
    </tr>
    <tr>
      <th>438</th>
      <td>-0.005515</td>
      <td>0.050680</td>
      <td>-0.015906</td>
      <td>-0.067642</td>
      <td>0.049341</td>
      <td>0.079165</td>
      <td>-0.028674</td>
      <td>0.034309</td>
      <td>-0.018118</td>
      <td>0.044485</td>
    </tr>
    <tr>
      <th>439</th>
      <td>0.041708</td>
      <td>0.050680</td>
      <td>-0.015906</td>
      <td>0.017282</td>
      <td>-0.037344</td>
      <td>-0.013840</td>
      <td>-0.024993</td>
      <td>-0.011080</td>
      <td>-0.046879</td>
      <td>0.015491</td>
    </tr>
    <tr>
      <th>440</th>
      <td>-0.045472</td>
      <td>-0.044642</td>
      <td>0.039062</td>
      <td>0.001215</td>
      <td>0.016318</td>
      <td>0.015283</td>
      <td>-0.028674</td>
      <td>0.026560</td>
      <td>0.044528</td>
      <td>-0.025930</td>
    </tr>
    <tr>
      <th>441</th>
      <td>-0.045472</td>
      <td>-0.044642</td>
      <td>-0.073030</td>
      <td>-0.081414</td>
      <td>0.083740</td>
      <td>0.027809</td>
      <td>0.173816</td>
      <td>-0.039493</td>
      <td>-0.004220</td>
      <td>0.003064</td>
    </tr>
  </tbody>
</table>
<p>442 rows × 10 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u_diabetes</span>  <span class="o">=</span> <span class="n">df_diabetes</span><span class="p">[</span><span class="s1">&#39;bmi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_diabetes</span> <span class="o">=</span> <span class="n">df_diabetes</span><span class="p">[</span><span class="s1">&#39;bmi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">z_score</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_diabetes</span><span class="p">[</span><span class="s1">&#39;bmi&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">u_diabetes</span><span class="p">)</span><span class="o">/</span><span class="n">std_diabetes</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_diabetes</span><span class="p">[</span><span class="s1">&#39;bmi&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_16_1.png" src="_images/Ingesta de Datos_16_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df_diabetes</span><span class="p">[</span><span class="s1">&#39;bmi&#39;</span><span class="p">])</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">z_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([32., 66., 98., 90., 64., 50., 23., 12.,  5.,  2.]),
 array([-1.89578121, -1.34803712, -0.80029302, -0.25254893,  0.29519517,
         0.84293927,  1.39068336,  1.93842746,  2.48617155,  3.03391565,
         3.58165975]),
 &lt;BarContainer object of 10 artists&gt;)
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_17_1.png" src="_images/Ingesta de Datos_17_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="mapeos-numericos">
<h2>Mapeos numéricos<a class="headerlink" href="#mapeos-numericos" title="Permalink to this headline">¶</a></h2>
<p><img alt="dummy" src="https://miro.medium.com/max/1400/1*80tflY8LxDFRmkD16u25RQ.png" /></p>
<p>Luego de haber explicado el escalamiento o modelación de las variables numéricas iscretas y continuas. Nos preguntamos entonces… que se hace con aquellas características que son categóricas; características como idioma, sexo, grado academico, nacionalidad son algunos ejemplos que podemos encontrarnos en una problemática. Para procesar este tipo de dato realizamos un <strong>Mapeo Numérico</strong>, el cual consiste en un conjunto de combinaciones binarias que benefician su analisis en un modelo de machine learning. Los dos métodos que existen para interpretar variables categóricas son:</p>
<ul class="simple">
<li><p>Dummy: es la representación más compacta que se puede tener de los datos. Es mejor usarla cuando los inputs son variables linealmente independientes (no tienen un grado de correlación significativo). Es decir, las cuando se sabe que las categorías son independientes entre sí.</p></li>
<li><p>One-hot: es más extenso. Permite incluir categorías que no estaban en el dataset inicialmente. De forma que si se filtra una categoría que no estaba incluida, igual se pueda representar numéricamente y no de error en el modelo (este modelo es más cool y es el que se usa).
Hay errores en la notación de Pandas y los tratan como que ambos modelos son lo mismo, pero en la realidad el Dummy no se usa. Aún así, en Pandas el método es .get_dummies().</p></li>
</ul>
<p><strong>Vamos a la práctica</strong>
En nuestro caso utilizaremos la funcion get_dummies de pandas que en realidad es one-hot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cars</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./sources/datasets/cars_.csv&#39;</span><span class="p">)</span>
<span class="n">df_cars</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer_name</th>
      <th>model_name</th>
      <th>transmission</th>
      <th>color</th>
      <th>odometer_value</th>
      <th>year_produced</th>
      <th>engine_fuel</th>
      <th>engine_has_gas</th>
      <th>engine_type</th>
      <th>engine_capacity</th>
      <th>...</th>
      <th>feature_1</th>
      <th>feature_2</th>
      <th>feature_3</th>
      <th>feature_4</th>
      <th>feature_5</th>
      <th>feature_6</th>
      <th>feature_7</th>
      <th>feature_8</th>
      <th>feature_9</th>
      <th>duration_listed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Subaru</td>
      <td>Outback</td>
      <td>automatic</td>
      <td>silver</td>
      <td>190000</td>
      <td>2010</td>
      <td>gasoline</td>
      <td>False</td>
      <td>gasoline</td>
      <td>2.5</td>
      <td>...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>16</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Subaru</td>
      <td>Outback</td>
      <td>automatic</td>
      <td>blue</td>
      <td>290000</td>
      <td>2002</td>
      <td>gasoline</td>
      <td>False</td>
      <td>gasoline</td>
      <td>3.0</td>
      <td>...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>83</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 30 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Vamos a obtener el one-hot de engine type.</span>
<span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df_cars</span><span class="p">[</span><span class="s1">&#39;engine_type&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>diesel</th>
      <th>electric</th>
      <th>gasoline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>33054</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7934</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25228</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5086</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Vamos a utilizar scikitlearn para obtener one hot</span>
<span class="kn">import</span> <span class="nn">sklearn.preprocessing</span> <span class="k">as</span> <span class="nn">preprocessing</span>
<span class="n">encoder</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">handle_unknown</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="n">encoder</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df_cars</span><span class="p">[[</span><span class="s1">&#39;engine_type&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OneHotEncoder(handle_unknown=&#39;ignore&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Aceite no es un tipo de motor valido por lo tanto scikit learn lo asigna como 0, igual sucede para otras</span>
<span class="c1">#categorias que no se encuentren dentro de la columna</span>
<span class="n">encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="s1">&#39;gasoline&#39;</span><span class="p">],[</span><span class="s1">&#39;diesel&#39;</span><span class="p">],[</span><span class="s1">&#39;aceite&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 1.],
       [1., 0., 0.],
       [0., 0., 0.]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Vamos a tratar una variable numerica discreta como categorica en este caso el año de fabricacion del auto</span>
<span class="n">encoder</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df_cars</span><span class="p">[[</span><span class="s1">&#39;year_produced&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OneHotEncoder(handle_unknown=&#39;ignore&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Vamos a introducir dos valores posibles y otro año erroneo 190</span>
<span class="n">encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">([[</span><span class="mi">2009</span><span class="p">],[</span><span class="mi">2016</span><span class="p">],[</span><span class="mi">190</span><span class="p">]])</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="c1">#Si contamos todos los elementos dentro de las listas podemos ver los años posibles que podemos encontrar</span>
<span class="c1">#Y cuando vemos un 1 quiere decir que ha encontrado su categoria, sin embargo el año 190 (última lista)</span>
<span class="c1">#esta llena de 0 con lo cual no ha encontrado su categoría o año de fabricación.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 1., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
        0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="correlaciones">
<h2>Correlaciones<a class="headerlink" href="#correlaciones" title="Permalink to this headline">¶</a></h2>
<p>Las correlacion es una medida que intenta determinar el nivel de relacion lineal que existe entre dos características.</p>
<ul class="simple">
<li><p><strong>Varianza</strong> Medición que indica el grado de variación conjunta de dos variables aleatorias respecto a sus medidas.</p></li>
<li><p><strong>Coeficiente de correlacion</strong> El coeficiente de correlación es la medida específica que cuantifica la intensidad de la relación lineal entre dos variables en un análisis de correlación.</p></li>
</ul>
<p>Pero… que tienen en común estos conceptos. Ocurre que a través de la formula de varianza podemos calcular el alejamiento de cada dato con respecto a su media; por otra parte, la covarianza calcula el alejamiento de una variable con respecto a otra. Es decir, si la variable <code class="docutils literal notranslate"><span class="pre">x</span></code> aumenta como se comporta la variable <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p>Otro aspecto a tener en cuenta es que la escala de cada variable normalmente es diferente. Un ejemplo hipotético es que la escala de <code class="docutils literal notranslate"><span class="pre">x</span></code> puede ser de 0 hasta 190 y la escala de <code class="docutils literal notranslate"><span class="pre">y</span></code> puede ser de 300 a 900, entonces es necesario estandarizar las escalas. Por tal razon el resultado de la covarianza se divide entre  “/” el producto de la desviacion estandar de <code class="docutils literal notranslate"><span class="pre">X</span></code> y <code class="docutils literal notranslate"><span class="pre">Y</span></code></p>
<p>Vamos a verlo a traves de formulas.</p>
<p align = "center">
<img src = "https://economipedia.com/wp-content/uploads/Varianza-formula.jpg" style="width:400px">
</p>
<p align = "center">
formula de la varianza 
</p>
<p align = "center">
<img src = "https://economipedia.com/wp-content/uploads/2017/10/F%C3%B3rmula-de-la-Covarianza-tama%C3%B1o-extenso.jpg" style="width:400px">
</p>
<p align = "center">
formula de la COvarianza
</p>
<p align = "center">
<img src = "https://i.pinimg.com/736x/64/0d/be/640dbe04c45777296ce29d72f3bc1ca9.jpg" style="width:400px">
</p>
<p align = "center">
Coeficiente de correlación
</p>
<p>El resultado de los coeficiente de correlacion entre dos variables pueden tener distintos patrones.</p>
<p align = "center">
<img src = "https://i.imgur.com/0AKQKBi.png" style="width:700px">
</p>
<p align = "center">
Gráficos de correlaciones
</p>
<p>Aun cuando veamos una correlación fuerte entre dos variables debemos tener en cuenta que</p>
<blockquote>
<div><p>Correlación no implica causalidad.</p>
</div></blockquote>
<p>Es importante siempre revisar los datos arrojados y en ocasiones puede que la fuerte correlacion sea meramente coindicencia y no esten estrechamente correlacionadas.</p>
</div>
<div class="section" id="matriz-de-varianza">
<h2>Matriz de varianza<a class="headerlink" href="#matriz-de-varianza" title="Permalink to this headline">¶</a></h2>
<p align = "center">
<img src = "https://miro.medium.com/max/1400/1*J6z7xcleH9wxHGGCLvDptg.jpeg" style="width:700px">
</p>
<p align = "center">
Matriz de covarianza
</p>
<p>La matriz varianza–covarianza es una matriz cuadrada de dimensión nxm que recoge las varianzas en la diagonal principal y las covarianzas en los elementos de fuera de la diagonal principal.</p>
<p>En otras palabras, la matriz varianza-covarianza es una matriz que tiene el mismo número de filas y columnas y que tiene distribuidas las varianzas en la diagonal principal y las covarianzas en los elementos fuera de la diagonal principal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span>  <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;iris&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;species&#39;</span><span class="p">)</span>
<span class="c1">#Aqui podemos ver a nivel de grafico el nivel de correlacion.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.PairGrid at 0x13f6a93c0a0&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_29_1.png" src="_images/Ingesta de Datos_29_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Utilizando scikit learn para obtener la matriz de covarianza</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span>
    <span class="n">iris</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>
<span class="p">)</span>

<span class="c1">#Scaled son los datos ya normalizados, y se usa la traspuesta para aplicar la correlacion</span>
<span class="n">scaled</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-9.00681170e-01, -1.14301691e+00, -1.38535265e+00,
        -1.50652052e+00, -1.02184904e+00, -5.37177559e-01,
        -1.50652052e+00, -1.02184904e+00, -1.74885626e+00,
        -1.14301691e+00, -5.37177559e-01, -1.26418478e+00,
        -1.26418478e+00, -1.87002413e+00, -5.25060772e-02,
        -1.73673948e-01, -5.37177559e-01, -9.00681170e-01,
        -1.73673948e-01, -9.00681170e-01, -5.37177559e-01,
        -9.00681170e-01, -1.50652052e+00, -9.00681170e-01,
        -1.26418478e+00, -1.02184904e+00, -1.02184904e+00,
        -7.79513300e-01, -7.79513300e-01, -1.38535265e+00,
        -1.26418478e+00, -5.37177559e-01, -7.79513300e-01,
        -4.16009689e-01, -1.14301691e+00, -1.02184904e+00,
        -4.16009689e-01, -1.14301691e+00, -1.74885626e+00,
        -9.00681170e-01, -1.02184904e+00, -1.62768839e+00,
        -1.74885626e+00, -1.02184904e+00, -9.00681170e-01,
        -1.26418478e+00, -9.00681170e-01, -1.50652052e+00,
        -6.58345429e-01, -1.02184904e+00,  1.40150837e+00,
         6.74501145e-01,  1.28034050e+00, -4.16009689e-01,
         7.95669016e-01, -1.73673948e-01,  5.53333275e-01,
        -1.14301691e+00,  9.16836886e-01, -7.79513300e-01,
        -1.02184904e+00,  6.86617933e-02,  1.89829664e-01,
         3.10997534e-01, -2.94841818e-01,  1.03800476e+00,
        -2.94841818e-01, -5.25060772e-02,  4.32165405e-01,
        -2.94841818e-01,  6.86617933e-02,  3.10997534e-01,
         5.53333275e-01,  3.10997534e-01,  6.74501145e-01,
         9.16836886e-01,  1.15917263e+00,  1.03800476e+00,
         1.89829664e-01, -1.73673948e-01, -4.16009689e-01,
        -4.16009689e-01, -5.25060772e-02,  1.89829664e-01,
        -5.37177559e-01,  1.89829664e-01,  1.03800476e+00,
         5.53333275e-01, -2.94841818e-01, -4.16009689e-01,
        -4.16009689e-01,  3.10997534e-01, -5.25060772e-02,
        -1.02184904e+00, -2.94841818e-01, -1.73673948e-01,
        -1.73673948e-01,  4.32165405e-01, -9.00681170e-01,
        -1.73673948e-01,  5.53333275e-01, -5.25060772e-02,
         1.52267624e+00,  5.53333275e-01,  7.95669016e-01,
         2.12851559e+00, -1.14301691e+00,  1.76501198e+00,
         1.03800476e+00,  1.64384411e+00,  7.95669016e-01,
         6.74501145e-01,  1.15917263e+00, -1.73673948e-01,
        -5.25060772e-02,  6.74501145e-01,  7.95669016e-01,
         2.24968346e+00,  2.24968346e+00,  1.89829664e-01,
         1.28034050e+00, -2.94841818e-01,  2.24968346e+00,
         5.53333275e-01,  1.03800476e+00,  1.64384411e+00,
         4.32165405e-01,  3.10997534e-01,  6.74501145e-01,
         1.64384411e+00,  1.88617985e+00,  2.49201920e+00,
         6.74501145e-01,  5.53333275e-01,  3.10997534e-01,
         2.24968346e+00,  5.53333275e-01,  6.74501145e-01,
         1.89829664e-01,  1.28034050e+00,  1.03800476e+00,
         1.28034050e+00, -5.25060772e-02,  1.15917263e+00,
         1.03800476e+00,  1.03800476e+00,  5.53333275e-01,
         7.95669016e-01,  4.32165405e-01,  6.86617933e-02],
       [ 1.01900435e+00, -1.31979479e-01,  3.28414053e-01,
         9.82172869e-02,  1.24920112e+00,  1.93979142e+00,
         7.88807586e-01,  7.88807586e-01, -3.62176246e-01,
         9.82172869e-02,  1.47939788e+00,  7.88807586e-01,
        -1.31979479e-01, -1.31979479e-01,  2.16998818e+00,
         3.09077525e+00,  1.93979142e+00,  1.01900435e+00,
         1.70959465e+00,  1.70959465e+00,  7.88807586e-01,
         1.47939788e+00,  1.24920112e+00,  5.58610819e-01,
         7.88807586e-01, -1.31979479e-01,  7.88807586e-01,
         1.01900435e+00,  7.88807586e-01,  3.28414053e-01,
         9.82172869e-02,  7.88807586e-01,  2.40018495e+00,
         2.63038172e+00,  9.82172869e-02,  3.28414053e-01,
         1.01900435e+00,  1.24920112e+00, -1.31979479e-01,
         7.88807586e-01,  1.01900435e+00, -1.74335684e+00,
         3.28414053e-01,  1.01900435e+00,  1.70959465e+00,
        -1.31979479e-01,  1.70959465e+00,  3.28414053e-01,
         1.47939788e+00,  5.58610819e-01,  3.28414053e-01,
         3.28414053e-01,  9.82172869e-02, -1.74335684e+00,
        -5.92373012e-01, -5.92373012e-01,  5.58610819e-01,
        -1.51316008e+00, -3.62176246e-01, -8.22569778e-01,
        -2.43394714e+00, -1.31979479e-01, -1.97355361e+00,
        -3.62176246e-01, -3.62176246e-01,  9.82172869e-02,
        -1.31979479e-01, -8.22569778e-01, -1.97355361e+00,
        -1.28296331e+00,  3.28414053e-01, -5.92373012e-01,
        -1.28296331e+00, -5.92373012e-01, -3.62176246e-01,
        -1.31979479e-01, -5.92373012e-01, -1.31979479e-01,
        -3.62176246e-01, -1.05276654e+00, -1.51316008e+00,
        -1.51316008e+00, -8.22569778e-01, -8.22569778e-01,
        -1.31979479e-01,  7.88807586e-01,  9.82172869e-02,
        -1.74335684e+00, -1.31979479e-01, -1.28296331e+00,
        -1.05276654e+00, -1.31979479e-01, -1.05276654e+00,
        -1.74335684e+00, -8.22569778e-01, -1.31979479e-01,
        -3.62176246e-01, -3.62176246e-01, -1.28296331e+00,
        -5.92373012e-01,  5.58610819e-01, -8.22569778e-01,
        -1.31979479e-01, -3.62176246e-01, -1.31979479e-01,
        -1.31979479e-01, -1.28296331e+00, -3.62176246e-01,
        -1.28296331e+00,  1.24920112e+00,  3.28414053e-01,
        -8.22569778e-01, -1.31979479e-01, -1.28296331e+00,
        -5.92373012e-01,  3.28414053e-01, -1.31979479e-01,
         1.70959465e+00, -1.05276654e+00, -1.97355361e+00,
         3.28414053e-01, -5.92373012e-01, -5.92373012e-01,
        -8.22569778e-01,  5.58610819e-01,  3.28414053e-01,
        -5.92373012e-01, -1.31979479e-01, -5.92373012e-01,
        -1.31979479e-01, -5.92373012e-01,  1.70959465e+00,
        -5.92373012e-01, -5.92373012e-01, -1.05276654e+00,
        -1.31979479e-01,  7.88807586e-01,  9.82172869e-02,
        -1.31979479e-01,  9.82172869e-02,  9.82172869e-02,
         9.82172869e-02, -8.22569778e-01,  3.28414053e-01,
         5.58610819e-01, -1.31979479e-01, -1.28296331e+00,
        -1.31979479e-01,  7.88807586e-01, -1.31979479e-01],
       [-1.34022653e+00, -1.34022653e+00, -1.39706395e+00,
        -1.28338910e+00, -1.34022653e+00, -1.16971425e+00,
        -1.34022653e+00, -1.28338910e+00, -1.34022653e+00,
        -1.28338910e+00, -1.28338910e+00, -1.22655167e+00,
        -1.34022653e+00, -1.51073881e+00, -1.45390138e+00,
        -1.28338910e+00, -1.39706395e+00, -1.34022653e+00,
        -1.16971425e+00, -1.28338910e+00, -1.16971425e+00,
        -1.28338910e+00, -1.56757623e+00, -1.16971425e+00,
        -1.05603939e+00, -1.22655167e+00, -1.22655167e+00,
        -1.28338910e+00, -1.34022653e+00, -1.22655167e+00,
        -1.22655167e+00, -1.28338910e+00, -1.28338910e+00,
        -1.34022653e+00, -1.28338910e+00, -1.45390138e+00,
        -1.39706395e+00, -1.34022653e+00, -1.39706395e+00,
        -1.28338910e+00, -1.39706395e+00, -1.39706395e+00,
        -1.39706395e+00, -1.22655167e+00, -1.05603939e+00,
        -1.34022653e+00, -1.22655167e+00, -1.34022653e+00,
        -1.28338910e+00, -1.34022653e+00,  5.35408562e-01,
         4.21733708e-01,  6.49083415e-01,  1.37546573e-01,
         4.78571135e-01,  4.21733708e-01,  5.35408562e-01,
        -2.60315415e-01,  4.78571135e-01,  8.07091462e-02,
        -1.46640561e-01,  2.51221427e-01,  1.37546573e-01,
         5.35408562e-01, -8.98031345e-02,  3.64896281e-01,
         4.21733708e-01,  1.94384000e-01,  4.21733708e-01,
         8.07091462e-02,  5.92245988e-01,  1.37546573e-01,
         6.49083415e-01,  5.35408562e-01,  3.08058854e-01,
         3.64896281e-01,  5.92245988e-01,  7.05920842e-01,
         4.21733708e-01, -1.46640561e-01,  2.38717193e-02,
        -3.29657076e-02,  8.07091462e-02,  7.62758269e-01,
         4.21733708e-01,  4.21733708e-01,  5.35408562e-01,
         3.64896281e-01,  1.94384000e-01,  1.37546573e-01,
         3.64896281e-01,  4.78571135e-01,  1.37546573e-01,
        -2.60315415e-01,  2.51221427e-01,  2.51221427e-01,
         2.51221427e-01,  3.08058854e-01, -4.30827696e-01,
         1.94384000e-01,  1.27429511e+00,  7.62758269e-01,
         1.21745768e+00,  1.04694540e+00,  1.16062026e+00,
         1.61531967e+00,  4.21733708e-01,  1.44480739e+00,
         1.16062026e+00,  1.33113254e+00,  7.62758269e-01,
         8.76433123e-01,  9.90107977e-01,  7.05920842e-01,
         7.62758269e-01,  8.76433123e-01,  9.90107977e-01,
         1.67215710e+00,  1.78583195e+00,  7.05920842e-01,
         1.10378283e+00,  6.49083415e-01,  1.67215710e+00,
         6.49083415e-01,  1.10378283e+00,  1.27429511e+00,
         5.92245988e-01,  6.49083415e-01,  1.04694540e+00,
         1.16062026e+00,  1.33113254e+00,  1.50164482e+00,
         1.04694540e+00,  7.62758269e-01,  1.04694540e+00,
         1.33113254e+00,  1.04694540e+00,  9.90107977e-01,
         5.92245988e-01,  9.33270550e-01,  1.04694540e+00,
         7.62758269e-01,  7.62758269e-01,  1.21745768e+00,
         1.10378283e+00,  8.19595696e-01,  7.05920842e-01,
         8.19595696e-01,  9.33270550e-01,  7.62758269e-01],
       [-1.31544430e+00, -1.31544430e+00, -1.31544430e+00,
        -1.31544430e+00, -1.31544430e+00, -1.05217993e+00,
        -1.18381211e+00, -1.31544430e+00, -1.31544430e+00,
        -1.44707648e+00, -1.31544430e+00, -1.31544430e+00,
        -1.44707648e+00, -1.44707648e+00, -1.31544430e+00,
        -1.05217993e+00, -1.05217993e+00, -1.18381211e+00,
        -1.18381211e+00, -1.18381211e+00, -1.31544430e+00,
        -1.05217993e+00, -1.31544430e+00, -9.20547742e-01,
        -1.31544430e+00, -1.31544430e+00, -1.05217993e+00,
        -1.31544430e+00, -1.31544430e+00, -1.31544430e+00,
        -1.31544430e+00, -1.05217993e+00, -1.44707648e+00,
        -1.31544430e+00, -1.31544430e+00, -1.31544430e+00,
        -1.31544430e+00, -1.44707648e+00, -1.31544430e+00,
        -1.31544430e+00, -1.18381211e+00, -1.18381211e+00,
        -1.31544430e+00, -7.88915558e-01, -1.05217993e+00,
        -1.18381211e+00, -1.31544430e+00, -1.31544430e+00,
        -1.31544430e+00, -1.31544430e+00,  2.64141916e-01,
         3.95774101e-01,  3.95774101e-01,  1.32509732e-01,
         3.95774101e-01,  1.32509732e-01,  5.27406285e-01,
        -2.62386821e-01,  1.32509732e-01,  2.64141916e-01,
        -2.62386821e-01,  3.95774101e-01, -2.62386821e-01,
         2.64141916e-01,  1.32509732e-01,  2.64141916e-01,
         3.95774101e-01, -2.62386821e-01,  3.95774101e-01,
        -1.30754636e-01,  7.90670654e-01,  1.32509732e-01,
         3.95774101e-01,  8.77547895e-04,  1.32509732e-01,
         2.64141916e-01,  2.64141916e-01,  6.59038469e-01,
         3.95774101e-01, -2.62386821e-01, -1.30754636e-01,
        -2.62386821e-01,  8.77547895e-04,  5.27406285e-01,
         3.95774101e-01,  5.27406285e-01,  3.95774101e-01,
         1.32509732e-01,  1.32509732e-01,  1.32509732e-01,
         8.77547895e-04,  2.64141916e-01,  8.77547895e-04,
        -2.62386821e-01,  1.32509732e-01,  8.77547895e-04,
         1.32509732e-01,  1.32509732e-01, -1.30754636e-01,
         1.32509732e-01,  1.71209594e+00,  9.22302838e-01,
         1.18556721e+00,  7.90670654e-01,  1.31719939e+00,
         1.18556721e+00,  6.59038469e-01,  7.90670654e-01,
         7.90670654e-01,  1.71209594e+00,  1.05393502e+00,
         9.22302838e-01,  1.18556721e+00,  1.05393502e+00,
         1.58046376e+00,  1.44883158e+00,  7.90670654e-01,
         1.31719939e+00,  1.44883158e+00,  3.95774101e-01,
         1.44883158e+00,  1.05393502e+00,  1.05393502e+00,
         7.90670654e-01,  1.18556721e+00,  7.90670654e-01,
         7.90670654e-01,  7.90670654e-01,  1.18556721e+00,
         5.27406285e-01,  9.22302838e-01,  1.05393502e+00,
         1.31719939e+00,  3.95774101e-01,  2.64141916e-01,
         1.44883158e+00,  1.58046376e+00,  7.90670654e-01,
         7.90670654e-01,  1.18556721e+00,  1.58046376e+00,
         1.44883158e+00,  9.22302838e-01,  1.44883158e+00,
         1.71209594e+00,  1.44883158e+00,  9.22302838e-01,
         1.05393502e+00,  1.44883158e+00,  7.90670654e-01]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Obteniendo matriz de covarianza a traves de scikit learn</span>
<span class="n">covariance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cov</span><span class="p">(</span><span class="n">scaled</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">covariance_matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 1.00671141, -0.11835884,  0.87760447,  0.82343066],
       [-0.11835884,  1.00671141, -0.43131554, -0.36858315],
       [ 0.87760447, -0.43131554,  1.00671141,  0.96932762],
       [ 0.82343066, -0.36858315,  0.96932762,  1.00671141]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#matriz de covarianza a traves de pandas</span>
<span class="n">iris</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sepal_length</th>
      <th>sepal_width</th>
      <th>petal_length</th>
      <th>petal_width</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sepal_length</th>
      <td>1.000000</td>
      <td>-0.117570</td>
      <td>0.871754</td>
      <td>0.817941</td>
    </tr>
    <tr>
      <th>sepal_width</th>
      <td>-0.117570</td>
      <td>1.000000</td>
      <td>-0.428440</td>
      <td>-0.366126</td>
    </tr>
    <tr>
      <th>petal_length</th>
      <td>0.871754</td>
      <td>-0.428440</td>
      <td>1.000000</td>
      <td>0.962865</td>
    </tr>
    <tr>
      <th>petal_width</th>
      <td>0.817941</td>
      <td>-0.366126</td>
      <td>0.962865</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#matriz de covarianza a traves de seaborn</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">corr</span><span class="p">(),</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="_images/Ingesta de Datos_33_1.png" src="_images/Ingesta de Datos_33_1.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Introduccion.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Estadistica Descriptiva vs Inferencial</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="proyecto.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Proyecto de aplicación</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Aldeir Herrera<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>